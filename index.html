<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kathmandu Room Finder | SpareRoom‑style Template</title>
  <meta name="description" content="Browse rooms, flatshares and roommates in Kathmandu, Nepal. Filters for budget, neighborhoods, move‑in dates, and amenities.">
  <style>
    :root{
      --bg:#0b0f14; --card:#11161e; --muted:#8aa0b5; --text:#e9f1f7; --brand:#4da3ff; --brand-2:#7ef7c9; --danger:#ff6b6b; --ok:#22c55e; --warn:#f59e0b;
      --br:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,#0b0f14,#0b0f14 60%,#0e141b);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1200px;margin:0 auto;padding:24px}

    /* Header */
    header{position:sticky;top:0;z-index:40;background:rgba(11,15,20,.8);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid #14202d}
    .topbar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:14px 0}
    .logo{display:flex;align-items:center;gap:10px}
    .logo-badge{width:36px;height:36px;border-radius:10px;background:conic-gradient(from 180deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#0b0f14;font-weight:800}
    .brand{font-size:20px;font-weight:800;letter-spacing:.2px}
    nav{display:flex;gap:18px;align-items:center}
    nav a{color:var(--muted)}
    .cta{padding:10px 14px;border-radius:12px;background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#081019;font-weight:700;border:0}

    /* Search */
    .search{margin:18px 0;display:grid;grid-template-columns:2fr 1fr 1fr 1fr auto;gap:10px}
    .chip{background:#0e1723;border:1px solid #1a2837;border-radius:12px;padding:10px 12px;color:#cfe3f5}
    .chip input,.chip select{width:100%;background:transparent;border:0;color:#cfe3f5;outline:none}

    /* Layout */
    .grid{display:grid;grid-template-columns:280px 1fr;gap:16px;align-items:start}
    .card{background:linear-gradient(180deg,#0d131c,#0b1119);border:1px solid #132233;border-radius:var(--br);box-shadow:0 6px 30px rgba(0,0,0,.3)}
    .card .hd{padding:14px 16px;border-bottom:1px solid #14202d;font-weight:700}
    .card .bd{padding:14px 16px}

    /* Filters */
    .filters .group{padding:10px 0;border-bottom:1px dashed #1a2837}
    .filters label{display:block;color:#a8c1d7;font-size:13px;margin-bottom:6px}
    .filters input[type="range"]{width:100%}
    .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border:1px solid #203346;border-radius:999px;margin:4px 6px 0 0}
    .pill input{accent-color:var(--brand)}

    /* Listings */
    .results-head{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}
    .sort{background:#0e1723;border:1px solid #1a2837;border-radius:12px;padding:10px 12px;color:#cfe3f5}
    .list{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}.list{grid-template-columns:1fr}.search{grid-template-columns:1fr 1fr 1fr 1fr}.search .chip:first-child{grid-column:1/-1}}

    .listing{display:grid;grid-template-columns:180px 1fr;gap:12px;padding:12px}
    .thumb{width:100%;height:140px;border-radius:14px;background:radial-gradient(120% 120% at 0% 0%,#294059,#0f1926 70%);border:1px solid #1a2a3b;overflow:hidden;position:relative}
    .thumb::after{content:"Photo";position:absolute;bottom:8px;right:10px;font-size:12px;color:#a2b5c6;opacity:.7}
    .tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
    .tag{font-size:12px;padding:4px 8px;background:#0f1a27;border:1px solid #1a2837;border-radius:999px;color:#cfe3f5}
    .price{font-size:18px;font-weight:800}
    .sub{color:#9fb6c9;font-size:13px}
    .badge{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid #1a2837;background:#0f1a27;color:#bfe1ff}
    .row{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .actions{display:flex;gap:10px}
    .btn{padding:10px 12px;border-radius:12px;border:1px solid #1a2837;background:#0e1723;color:#cfe3f5}
    .btn.primary{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#081019;border:0;font-weight:800}

    /* City info */
    .tiles{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}
    @media (max-width:900px){.tiles{grid-template-columns:1fr}}
    .tile{padding:14px;border-radius:var(--br);background:linear-gradient(180deg,#0d131c,#0b1119);border:1px solid #132233}
    .kpis{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px}
    @media (max-width:900px){.kpis{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .kpi{padding:12px;border:1px solid #1a2837;border-radius:14px;background:#0f1a27}
    .kpi .k{font-size:12px;color:#9fb6c9}
    .kpi .v{font-size:18px;font-weight:800}
    .map{height:280px;border-radius:var(--br);background:radial-gradient(120% 120% at 0% 0%,#173049,#0c1622 70%);border:1px dashed #1a2a3b;display:grid;place-items:center;color:#9fb6c9}
    footer{padding:36px 0;color:#96b3ca}
    .footgrid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:16px}
    @media (max-width:900px){.footgrid{grid-template-columns:1fr}}
    .muted{color:#8aa0b5}
    .highlight{color:#b7ffec}
  </style>
</head>
<body>
  <header>
    <div class="container topbar">
      <div class="logo">
        <div class="logo-badge">KM</div>
        <div class="brand">Kathmandu Room Finder</div>
      </div>
      <nav>
        <a href="#discover">Discover</a>
        <a href="#listings">Listings</a>
        <a href="#neighborhoods">Neighborhoods</a>
        <a href="#faq">FAQ</a>
        <button class="cta">Post a room</button>
      </nav>
    </div>
    <div class="container">
      <form class="search" id="searchForm">
        <div class="chip">
          <label for="loc" class="muted" style="font-size:12px;display:block">Location</label>
          <input id="loc" type="text" placeholder="Kathmandu, Nepal" value="Kathmandu, Nepal" />
        </div>
        <div class="chip">
          <label for="budget" class="muted" style="font-size:12px;display:block">Max budget (NPR)</label>
          <input id="budget" type="number" min="0" step="500" placeholder="25000" />
        </div>
        <div class="chip">
          <label for="rtype" class="muted" style="font-size:12px;display:block">Room type</label>
          <select id="rtype">
            <option value="any">Any</option>
            <option>Private room</option>
            <option>Studio</option>
            <option>Shared room</option>
          </select>
        </div>
        <div class="chip">
          <label for="date" class="muted" style="font-size:12px;display:block">Move‑in</label>
          <input id="date" type="date" />
        </div>
        <button class="cta" type="submit">Search</button>
      </form>
    </div>
  </header>

  <main class="container">
    <section id="discover" class="card" style="margin-top:16px">
      <div class="bd">
        <h1 style="margin:8px 0 4px">Find rooms & flatshares in <span class="highlight">Kathmandu, Nepal</span></h1>
        <p class="muted">A SpareRoom‑style single page you can customize. Built‑in filters, listing cards, city info, and FAQs. All data below is sample content you can replace with live data feeds.</p>
        <div class="kpis" style="margin-top:12px">
          <div class="kpi"><div class="k">Typical budget (NPR / mo)</div><div class="v" id="kpiBudget">10k – 30k</div></div>
          <div class="kpi"><div class="k">Popular areas</div><div class="v">Thamel · Patan · Boudha · Bhaktapur</div></div>
          <div class="kpi"><div class="k">Currency</div><div class="v">Nepalese Rupee (NPR)</div></div>
          <div class="kpi"><div class="k">Time zone</div><div class="v">NPT (UTC+5:45)</div></div>
        </div>
      </div>
    </section>

    <section id="listings" class="grid" style="margin-top:16px">
      <!-- Filters sidebar -->
      <aside class="card filters">
        <div class="hd">Filters</div>
        <div class="bd">
          <div class="group">
            <label>Price range (NPR / month)</label>
            <input type="range" id="minPrice" min="3000" max="60000" value="8000" />
            <input type="range" id="maxPrice" min="3000" max="60000" value="30000" />
            <div id="priceLbl" class="muted" style="margin-top:6px">8000 – 30000</div>
          </div>
          <div class="group">
            <label>Amenities</label>
            <div class="pill"><input type="checkbox" value="wifi"> Wi‑Fi</div>
            <div class="pill"><input type="checkbox" value="furnished"> Furnished</div>
            <div class="pill"><input type="checkbox" value="ensuite"> Ensuite</div>
            <div class="pill"><input type="checkbox" value="parking"> Parking</div>
            <div class="pill"><input type="checkbox" value="pet"> Pet‑friendly</div>
          </div>
          <div class="group">
            <label>House preference</label>
            <div class="pill"><input type="checkbox" value="male"> Male</div>
            <div class="pill"><input type="checkbox" value="female"> Female</div>
            <div class="pill"><input type="checkbox" value="mixed"> Mixed</div>
            <div class="pill"><input type="checkbox" value="family"> Family</div>
          </div>
          <div class="group">
            <label>Stay length</label>
            <div class="pill"><input type="checkbox" value="short"> Short‑let</div>
            <div class="pill"><input type="checkbox" value="long"> Long‑term</div>
          </div>
          <div class="group">
            <label>Sort by</label>
            <select class="chip" id="sort">
              <option value="new">Newest</option>
              <option value="priceAsc">Price (low → high)</option>
              <option value="priceDesc">Price (high → low)</option>
              <option value="near">Nearest</option>
            </select>
          </div>
        </div>
      </aside>

      <!-- Listings -->
      <section class="card">
        <div class="hd">
          <div class="results-head">
            <div><strong>36</strong> rooms in Kathmandu (sample data)</div>
            <select class="sort" id="sort2">
              <option value="new">Newest</option>
              <option value="priceAsc">Price (low → high)</option>
              <option value="priceDesc">Price (high → low)</option>
              <option value="near">Nearest</option>
            </select>
          </div>
        </div>
        <div class="bd">
          <div class="list" id="results"></div>
        </div>
      </section>
    </section>

    <section id="neighborhoods" style="margin-top:16px" class="tiles">
      <div class="tile">
        <h3>About Kathmandu</h3>
        <p class="muted">Kathmandu is Nepal's capital and largest city, set in a valley surrounded by the Himalayas. Tribhuvan International Airport (KTM) serves the city. Popular areas for renters include <em>Thamel</em> (tourist hub), <em>Patan/Lalitpur</em> (heritage & cafes), <em>Boudha</em> (near the stupa), and <em>Bhaktapur</em> (historic core).</p>
        <div class="map">Map placeholder (embed Leaflet/Google Maps here)</div>
      </div>
      <div class="tile">
        <h3>Typical Costs (guide)</h3>
        <ul class="muted">
          <li>Private room: NPR 12,000 – 30,000 / month</li>
          <li>Studio: NPR 20,000 – 45,000 / month</li>
          <li>Utilities (approx): NPR 2,000 – 6,000 / month</li>
          <li>Deposit: usually 1–2 months' rent</li>
        </ul>
        <p class="muted" style="font-size:12px">These are non‑authoritative sample ranges. Replace with live market data if available.</p>
      </div>
      <div class="tile">
        <h3>Handy info</h3>
        <ul class="muted">
          <li>Language: Nepali (English widely used in rentals)</li>
          <li>Power: 230V / 50Hz, Type C/D/M sockets</li>
          <li>Emergency: Police 100 · Fire 101 · Ambulance 102</li>
          <li>Commuting: microbuses, ride‑hailing, taxis; Ring Road encircles the valley</li>
        </ul>
      </div>
    </section>

    <section class="card" style="margin-top:16px">
      <div class="hd">Safety & renting tips</div>
      <div class="bd">
        <ul class="muted">
          <li>Arrange viewings in daylight; bring photo ID and meet in public places first.</li>
          <li>Use written tenancy agreements; clarify utilities, deposit, and notice periods.</li>
          <li>Check mobile network, water schedule, and backup power (inverter/solar).</li>
          <li>Verify distance to amenities: universities, hospitals, and transit stops.</li>
        </ul>
      </div>
    </section>

    <section id="faq" class="card" style="margin-top:16px">
      <div class="hd">FAQ</div>
      <div class="bd">
        <details>
          <summary>What documents are commonly requested?</summary>
          <p class="muted">Photo ID, one month deposit, sometimes employment/student proof. Requirements vary by landlord.</p>
        </details>
        <details>
          <summary>Are short‑lets available?</summary>
          <p class="muted">Yes—especially in Thamel and Patan. Expect higher rates and furnished rooms.</p>
        </details>
        <details>
          <summary>Can I find female‑only or family‑only housing?</summary>
          <p class="muted">Yes. Use the house preference filters or keywords when posting/searching.</p>
        </details>
      </div>
    </section>
  </main>

  <footer class="container">
    <div class="footgrid">
      <div>
        <div class="brand" style="margin-bottom:8px">Kathmandu Room Finder</div>
        <p class="muted">An open template inspired by SpareRoom layouts. Replace sample text & images with your own data feed, and wire up the map to your provider of choice.</p>
      </div>
      <div>
        <div class="muted" style="font-weight:700;margin-bottom:6px">For renters</div>
        <div><a href="#">Search rooms</a></div>
        <div><a href="#">Create alerts</a></div>
        <div><a href="#">Safety tips</a></div>
      </div>
      <div>
        <div class="muted" style="font-weight:700;margin-bottom:6px">For listers</div>
        <div><a href="#">Post a room</a></div>
        <div><a href="#">Manage listings</a></div>
        <div><a href="#">Pricing</a></div>
      </div>
    </div>
    <p class="muted" style="margin-top:18px;font-size:12px">© <span id="yr"></span> Kathmandu Room Finder. Not affiliated with SpareRoom.</p>
  </footer>

  <script>
    // =============== Sample dataset — replace with live data/API ===============
    const data = [
      {id:1, area:'Thamel', title:'Bright private room near Thamel Chowk', price:18000, type:'Private room', available:'2025-09-01', tags:['Wi‑Fi','Furnished','Near bus'], desc:'In a mixed flatshare, 3rd floor, sunny balcony.'},
      {id:2, area:'Patan (Lalitpur)', title:'Studio near Patan Durbar Square', price:32000, type:'Studio', available:'2025-08-25', tags:['Ensuite','Wi‑Fi'], desc:'Quiet lane, heritage neighborhood, cafes nearby.'},
      {id:3, area:'Boudha', title:'Room walking distance to Boudhanath Stupa', price:15000, type:'Private room', available:'2025-08-20', tags:['Furnished','Rooftop'], desc:'Family house, access to roof with view of stupa.'},
      {id:4, area:'Bhaktapur', title:'Spacious room in traditional house', price:12000, type:'Private room', available:'2025-09-10', tags:['Wi‑Fi','Shared kitchen'], desc:'Historic area; buses to Ratnapark.'},
      {id:5, area:'Jawalakhel', title:'Modern studio near Zoo', price:40000, type:'Studio', available:'2025-09-01', tags:['Ensuite','Parking'], desc:'Lift building, generator backup, water tank.'},
      {id:6, area:'Maitidevi', title:'Budget shared room by main road', price:9000, type:'Shared room', available:'2025-08-18', tags:['Wi‑Fi'], desc:'Students welcome; utilities split.'}
    ];

    // =============== Utilities ===============
    const $ = (id)=>document.getElementById(id);
    const safeAdd = (el, evt, fn)=>{ if(el) el.addEventListener(evt, fn); else console.error(`Missing element for listener: #${el}`); };

    const results = $('results');
    const priceLbl = $('priceLbl');
    const minPrice = $('minPrice');
    const maxPrice = $('maxPrice');

    function render(items){
      results.innerHTML = items.map(x => `
        <article class="listing card">
          <div class="thumb" aria-label="listing photo"></div>
          <div>
            <div class="row">
              <h3 style="margin:0">${x.title}</h3>
              <span class="badge">${x.area}</span>
            </div>
            <div class="row" style="margin:6px 0">
              <div class="price">NPR ${x.price.toLocaleString()}</div>
              <div class="sub">${x.type} · Available ${new Date(x.available).toLocaleDateString()}</div>
            </div>
            <p class="muted" style="margin:6px 0">${x.desc}</p>
            <div class="tags">${x.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
            <div class="actions" style="margin-top:10px">
              <button class="btn primary">Message</button>
              <button class="btn">Save</button>
            </div>
          </div>
        </article>
      `).join('');
    }

    function applyFilters(){
      const budgetMax = Number($('budget').value || Infinity);
      const type = $('rtype').value;
      const min = Number(minPrice?.value || 0);
      const max = Number(maxPrice?.value || Infinity);
      let items = data.filter(x =>
        x.price >= min && x.price <= max && x.price <= budgetMax && (type==='any' || x.type===type)
      );

      const sort = $('sort').value;
      if(sort==='priceAsc') items.sort((a,b)=>a.price-b.price);
      if(sort==='priceDesc') items.sort((a,b)=>b.price-a.price);
      if(sort==='new') items.sort((a,b)=>new Date(b.available)-new Date(a.available));
      render(items);
      const kpi = $('kpiBudget');
      if(kpi){
        kpi.textContent = items.length ? `${(Math.min(...items.map(i=>i.price))/1000).toFixed(0)}k – ${(Math.max(...items.map(i=>i.price))/1000).toFixed(0)}k` : '—';
      }
    }

    // Initialize UI and listeners
    (function init(){
      if(priceLbl && minPrice && maxPrice){
        priceLbl.innerText = `${minPrice.value} – ${maxPrice.value}`;
        minPrice.addEventListener('input', ()=> priceLbl.innerText = `${minPrice.value} – ${maxPrice.value}`);
        maxPrice.addEventListener('input', ()=> priceLbl.innerText = `${minPrice.value} – ${maxPrice.value}`);
        minPrice.addEventListener('change', applyFilters);
        maxPrice.addEventListener('change', applyFilters);
      }
      const sf = $('searchForm');
      if(sf){ sf.addEventListener('submit', e=>{e.preventDefault();applyFilters();}); }
      const s1 = $('sort');
      const s2 = $('sort2');
      if(s1) s1.addEventListener('change', e=>{ if(s2) s2.value = s1.value; applyFilters(); });
      if(s2) s2.addEventListener('change', e=>{ if(s1) s1.value = s2.value; applyFilters(); });

      render(data);
      applyFilters();
      const yr = $('yr'); if(yr) yr.textContent = new Date().getFullYear();

      // =============== Self-tests (basic DOM sanity checks) ===============
      console.group("Self‑tests");
      const requiredIds = ['searchForm','sort','sort2','minPrice','maxPrice','results','kpiBudget','yr','budget','rtype'];
      requiredIds.forEach(id=>console.assert($(id), `Missing #${id}`));
      console.assert(typeof applyFilters === 'function', 'applyFilters should be defined');
      console.assert(Array.isArray(data) && data.length>=6, 'Sample data should contain at least 6 items');
      console.groupEnd();
    })();
  </script>
</body>
</html>
